{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/mohamedmunir/WebstormProjects/Travellin-website/app/api/auth/register/route.ts"],"sourcesContent":["// app/api/auth/register/route.ts\nimport { NextRequest, NextResponse } from \"next/server\";\nimport { createClient } from \"@supabase/supabase-js\";\n\n// Initialize Supabase client with service role\nconst supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!\n);\n\nexport async function POST(req: NextRequest) {\n    try {\n        const { name, email, password } = await req.json();\n\n        // Validate input\n        if (!name || !email || !password) {\n            return NextResponse.json(\n                { message: \"All fields are required\" },\n                { status: 400 }\n            );\n        }\n\n        // Insert into Supabase users table\n        const { data, error } = await supabase\n            .from(\"users\")\n            .insert([{ full_name: name, email, password }]);\n\n        if (error) {\n            console.error(error);\n            return NextResponse.json({ message: error.message }, { status: 500 });\n        }\n\n        return NextResponse.json({ message: \"User created successfully\", user: data });\n    } catch (err) {\n        console.error(err);\n        return NextResponse.json({ message: \"Server error\" }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;AACjC;;;;;;;;AAGA,+CAA+C;AAC/C,MAAM,WAAW,aACb,QAAQ,GAAG,CAAC,wBAAwB,EACpC,QAAQ,GAAG,CAAC,yBAAyB;AAGlC,eAAe,KAAK,GAAgB;IACvC,IAAI;QACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;QAEhD,iBAAiB;QACjB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU;YAC9B,OAAO,4LAAY,CAAC,IAAI,CACpB;gBAAE,SAAS;YAA0B,GACrC;gBAAE,QAAQ;YAAI;QAEtB;QAEA,mCAAmC;QACnC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SACzB,IAAI,CAAC,SACL,MAAM,CAAC;YAAC;gBAAE,WAAW;gBAAM;gBAAO;YAAS;SAAE;QAElD,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC;YACd,OAAO,4LAAY,CAAC,IAAI,CAAC;gBAAE,SAAS,MAAM,OAAO;YAAC,GAAG;gBAAE,QAAQ;YAAI;QACvE;QAEA,OAAO,4LAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAA6B,MAAM;QAAK;IAChF,EAAE,OAAO,KAAK;QACV,QAAQ,KAAK,CAAC;QACd,OAAO,4LAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAe,GAAG;YAAE,QAAQ;QAAI;IACxE;AACJ","debugId":null}}]
}